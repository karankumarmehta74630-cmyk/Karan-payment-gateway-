<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Karan Payment Gateway - Secure Login</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}

body{
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(-45deg,#0f172a,#1e3a8a,#9333ea,#0f172a);
background-size:400% 400%;
animation:bg 12s ease infinite;
color:#fff;
}

@keyframes bg{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.card{
width:400px;
background:rgba(255,255,255,0.1);
backdrop-filter:blur(20px);
padding:30px;
border-radius:20px;
box-shadow:0 25px 50px rgba(0,0,0,0.4);
animation:fade .5s ease;
}

@keyframes fade{
from{opacity:0;transform:translateY(20px)}
to{opacity:1;transform:translateY(0)}
}

.title{
text-align:center;
font-size:22px;
font-weight:600;
margin-bottom:20px;
}

input{
width:100%;
padding:12px;
margin-top:12px;
border:none;
border-radius:10px;
outline:none;
}

button{
width:100%;
padding:12px;
margin-top:15px;
border:none;
border-radius:10px;
font-weight:600;
cursor:pointer;
transition:.3s;
}

.login-btn{
background:#2563eb;
color:#fff;
}

.login-btn:hover{background:#3b82f6}

.google-btn{
background:#ea4335;
color:#fff;
position:relative;
overflow:hidden;
}

.google-btn.loading{
opacity:.7;
pointer-events:none;
}

.spinner{
width:18px;
height:18px;
border:3px solid rgba(255,255,255,0.4);
border-top:3px solid #fff;
border-radius:50%;
animation:spin 1s linear infinite;
margin:auto;
}

@keyframes spin{
100%{transform:rotate(360deg)}
}

.link{
margin-top:12px;
font-size:13px;
text-align:center;
cursor:pointer;
opacity:.8;
}

.link:hover{opacity:1}

.terms{
font-size:12px;
margin-top:10px;
display:flex;
align-items:center;
gap:5px;
}

.modal{
display:none;
position:fixed;
inset:0;
background:rgba(0,0,0,0.6);
justify-content:center;
align-items:center;
}

.modal-content{
background:#fff;
color:#000;
padding:20px;
border-radius:15px;
max-width:400px;
max-height:70vh;
overflow:auto;
}

.close{
float:right;
cursor:pointer;
font-weight:600;
}
</style>
</head>
<body>

<div class="card">

<div class="title">Karan Payment Gateway</div>

<input type="email" id="email" placeholder="Enter Email">
<input type="password" id="password" placeholder="Enter Password">

<button class="login-btn" onclick="login()">Login</button>

<button class="google-btn" id="googleBtn" onclick="googleLogin()">
Login with Google
</button>

<div class="terms">
<input type="checkbox" id="agree">
<label>I agree to <span onclick="openTerms()" style="text-decoration:underline;cursor:pointer">Terms & Conditions</span></label>
</div>

<div class="link" onclick="register()">Create Account</div>
<div class="link" onclick="forgotPassword()">Forgot Password?</div>

</div>

<!-- Terms Modal -->
<div class="modal" id="termsModal">
<div class="modal-content">
<span class="close" onclick="closeTerms()">âœ–</span>
<h3>Terms & Conditions</h3>
<p>
Welcome to Karan Payment Gateway. By accessing this platform,
you agree to use it responsibly and legally. This system is
for demonstration and development purposes only.
</p>
<p>
Users must not misuse payment links, QR codes, or attempt
unauthorized transactions.
</p>
<p>
We are not responsible for third-party payment app behavior.
</p>
</div>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, sendPasswordResetEmail, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBWfnQ9KFDWA5V9_VfqQdWd-vL-psdcqTA",
  authDomain: "karanchatapp-e0b1d.firebaseapp.com",
  projectId: "karanchatapp-e0b1d",
  appId: "1:992252113506:web:c55091651550918a43173b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth,user=>{
if(user){
window.location.href="index.html";
}
});

window.login=function(){
if(!agree.checked){alert("Accept Terms & Conditions");return;}
signInWithEmailAndPassword(auth,email.value,password.value)
.then(()=>window.location.href="index.html")
.catch(err=>alert(err.message));
}

window.register=function(){
if(!agree.checked){alert("Accept Terms & Conditions");return;}
createUserWithEmailAndPassword(auth,email.value,password.value)
.then(()=>alert("Account Created"))
.catch(err=>alert(err.message));
}

window.googleLogin=function(){
if(!agree.checked){alert("Accept Terms & Conditions");return;}
let btn=document.getElementById("googleBtn");
btn.classList.add("loading");
btn.innerHTML='<div class="spinner"></div>';
const provider=new GoogleAuthProvider();
signInWithPopup(auth,provider)
.then(()=>window.location.href="index.html")
.catch(err=>alert(err.message))
.finally(()=>{
btn.classList.remove("loading");
btn.innerHTML="Login with Google";
});
}

window.forgotPassword=function(){
if(!email.value){alert("Enter Email");return;}
sendPasswordResetEmail(auth,email.value)
.then(()=>alert("Password Reset Email Sent"))
.catch(err=>alert(err.message));
}

window.openTerms=function(){
termsModal.style.display="flex";
}

window.closeTerms=function(){
termsModal.style.display="none";
}

</script>

</body>
</html>
